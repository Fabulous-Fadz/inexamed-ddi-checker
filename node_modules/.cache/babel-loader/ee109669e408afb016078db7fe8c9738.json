{"ast":null,"code":"\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nvar React = require('react');\n\nvar ReactDOM = require('react-dom');\n\nvar PropTypes = require('prop-types');\n\nvar _require = require('focus-trap'),\n    createFocusTrap = _require.createFocusTrap; // TODO: These issues are related to older React features which we'll likely need\n//  to fix in order to move the code forward to the next major version of React.\n//  @see https://github.com/davidtheclark/focus-trap-react/issues/77\n\n/* eslint-disable react/no-find-dom-node */\n\n\nvar FocusTrap = /*#__PURE__*/function (_React$Component) {\n  _inherits(FocusTrap, _React$Component);\n\n  var _super = _createSuper(FocusTrap);\n\n  function FocusTrap(props) {\n    var _this;\n\n    _classCallCheck(this, FocusTrap);\n\n    _this = _super.call(this, props); // We need to hijack the returnFocusOnDeactivate option,\n    // because React can move focus into the element before we arrived at\n    // this lifecycle hook (e.g. with autoFocus inputs). So the component\n    // captures the previouslyFocusedElement in componentWillMount,\n    // then (optionally) returns focus to it in componentWillUnmount.\n\n    _this.tailoredFocusTrapOptions = {\n      returnFocusOnDeactivate: false\n    }; // because of the above, we maintain our own flag for this option, and\n    //  default it to `true` because that's focus-trap's default\n\n    _this.returnFocusOnDeactivate = true;\n    var focusTrapOptions = props.focusTrapOptions;\n\n    for (var optionName in focusTrapOptions) {\n      if (!Object.prototype.hasOwnProperty.call(focusTrapOptions, optionName)) {\n        continue;\n      }\n\n      if (optionName === 'returnFocusOnDeactivate') {\n        _this.returnFocusOnDeactivate = !!focusTrapOptions[optionName];\n        continue;\n      }\n\n      if (optionName === 'onPostDeactivate') {\n        _this.onPostDeactivate = focusTrapOptions[optionName];\n        continue;\n      }\n\n      _this.tailoredFocusTrapOptions[optionName] = focusTrapOptions[optionName];\n    } // elements from which to create the focus trap on mount; if a child is used\n    //  instead of the `containerElements` prop, we'll get the child's related\n    //  element when the trap renders and then is declared 'mounted'\n\n\n    _this.focusTrapElements = props.containerElements || []; // now we remember what the currently focused element is, not relying on focus-trap\n\n    _this.updatePreviousElement();\n\n    return _this;\n  }\n  /**\n   * Gets the configured document.\n   * @returns {Document|undefined} Configured document, falling back to the main\n   *  document, if it exists. During SSR, `undefined` is returned since the\n   *  document doesn't exist.\n   */\n\n\n  _createClass(FocusTrap, [{\n    key: \"getDocument\",\n    value: function getDocument() {\n      // SSR: careful to check if `document` exists before accessing it as a variable\n      return this.props.focusTrapOptions.document || (typeof document !== 'undefined' ? document : undefined);\n    } // TODO: Need more test coverage for this function\n\n  }, {\n    key: \"getNodeForOption\",\n    value: function getNodeForOption(optionName) {\n      var optionValue = this.tailoredFocusTrapOptions[optionName];\n\n      if (!optionValue) {\n        return null;\n      }\n\n      var node = optionValue;\n\n      if (typeof optionValue === 'string') {\n        var _this$getDocument;\n\n        node = (_this$getDocument = this.getDocument()) === null || _this$getDocument === void 0 ? void 0 : _this$getDocument.querySelector(optionValue);\n\n        if (!node) {\n          throw new Error(\"`\".concat(optionName, \"` refers to no known node\"));\n        }\n      }\n\n      if (typeof optionValue === 'function') {\n        node = optionValue();\n\n        if (!node) {\n          throw new Error(\"`\".concat(optionName, \"` did not return a node\"));\n        }\n      }\n\n      return node;\n    }\n  }, {\n    key: \"getReturnFocusNode\",\n    value: function getReturnFocusNode() {\n      var node = this.getNodeForOption('setReturnFocus');\n      return node ? node : this.previouslyFocusedElement;\n    }\n    /** Update the previously focused element with the currently focused element. */\n\n  }, {\n    key: \"updatePreviousElement\",\n    value: function updatePreviousElement() {\n      var currentDocument = this.getDocument();\n\n      if (currentDocument) {\n        this.previouslyFocusedElement = currentDocument.activeElement;\n      }\n    }\n  }, {\n    key: \"deactivateTrap\",\n    value: function deactivateTrap() {\n      var _this2 = this;\n\n      var _this$tailoredFocusTr = this.tailoredFocusTrapOptions,\n          checkCanReturnFocus = _this$tailoredFocusTr.checkCanReturnFocus,\n          _this$tailoredFocusTr2 = _this$tailoredFocusTr.preventScroll,\n          preventScroll = _this$tailoredFocusTr2 === void 0 ? false : _this$tailoredFocusTr2;\n\n      if (this.focusTrap) {\n        // NOTE: we never let the trap return the focus since we do that ourselves\n        this.focusTrap.deactivate({\n          returnFocus: false\n        });\n      }\n\n      var finishDeactivation = function finishDeactivation() {\n        var returnFocusNode = _this2.getReturnFocusNode();\n\n        var canReturnFocus = (returnFocusNode === null || returnFocusNode === void 0 ? void 0 : returnFocusNode.focus) && _this2.returnFocusOnDeactivate;\n\n        if (canReturnFocus) {\n          /** Returns focus to the element that had focus when the trap was activated. */\n          returnFocusNode.focus({\n            preventScroll: preventScroll\n          });\n        }\n\n        if (_this2.onPostDeactivate) {\n          _this2.onPostDeactivate.call(null); // don't call it in context of \"this\"\n\n        }\n      };\n\n      if (checkCanReturnFocus) {\n        checkCanReturnFocus(this.getReturnFocusNode()).then(finishDeactivation, finishDeactivation);\n      } else {\n        finishDeactivation();\n      }\n    }\n  }, {\n    key: \"setupFocusTrap\",\n    value: function setupFocusTrap() {\n      if (!this.focusTrap) {\n        var focusTrapElementDOMNodes = this.focusTrapElements.map( // NOTE: `findDOMNode()` does not support CSS selectors; it'll just return\n        //  a new text node with the text wrapped in it instead of treating the\n        //  string as a selector and resolving it to a node in the DOM\n        ReactDOM.findDOMNode);\n        var nodesExist = focusTrapElementDOMNodes.some(Boolean);\n\n        if (nodesExist) {\n          // eslint-disable-next-line react/prop-types -- _createFocusTrap is an internal prop\n          this.focusTrap = this.props._createFocusTrap(focusTrapElementDOMNodes, this.tailoredFocusTrapOptions);\n\n          if (this.props.active) {\n            this.focusTrap.activate();\n          }\n\n          if (this.props.paused) {\n            this.focusTrap.pause();\n          }\n        }\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.active) {\n        this.setupFocusTrap();\n      } // else, wait for later activation in case the `focusTrapOptions` will be updated\n      //  again before the trap is activated (e.g. if waiting to know what the document\n      //  object will be, so the Trap must be rendered, but the consumer is waiting to\n      //  activate until they have obtained the document from a ref)\n      //  @see https://github.com/focus-trap/focus-trap-react/issues/539\n\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.focusTrap) {\n        if (prevProps.containerElements !== this.props.containerElements) {\n          this.focusTrap.updateContainerElements(this.props.containerElements);\n        }\n\n        var hasActivated = !prevProps.active && this.props.active;\n        var hasDeactivated = prevProps.active && !this.props.active;\n        var hasPaused = !prevProps.paused && this.props.paused;\n        var hasUnpaused = prevProps.paused && !this.props.paused;\n\n        if (hasActivated) {\n          this.updatePreviousElement();\n          this.focusTrap.activate();\n        }\n\n        if (hasDeactivated) {\n          this.deactivateTrap();\n          return; // un/pause does nothing on an inactive trap\n        }\n\n        if (hasPaused) {\n          this.focusTrap.pause();\n        }\n\n        if (hasUnpaused) {\n          this.focusTrap.unpause();\n        }\n      } else {\n        // NOTE: if we're in `componentDidUpdate` and we don't have a trap yet,\n        //  it either means it shouldn't be active, or it should be but none of\n        //  of given `containerElements` were present in the DOM the last time\n        //  we tried to create the trap\n        if (prevProps.containerElements !== this.props.containerElements) {\n          this.focusTrapElements = this.props.containerElements;\n        } // don't create the trap unless it should be active in case the consumer\n        //  is still updating `focusTrapOptions`\n        //  @see https://github.com/focus-trap/focus-trap-react/issues/539\n\n\n        if (this.props.active) {\n          this.updatePreviousElement();\n          this.setupFocusTrap();\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.deactivateTrap();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var child = this.props.children ? React.Children.only(this.props.children) : undefined;\n\n      if (child) {\n        if (child.type && child.type === React.Fragment) {\n          throw new Error('A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.');\n        }\n\n        var composedRefCallback = function composedRefCallback(element) {\n          var containerElements = _this3.props.containerElements;\n\n          if (child) {\n            if (typeof child.ref === 'function') {\n              child.ref(element);\n            } else if (child.ref) {\n              child.ref.current = element;\n            }\n          }\n\n          _this3.focusTrapElements = containerElements ? containerElements : [element];\n        };\n\n        var childWithRef = React.cloneElement(child, {\n          ref: composedRefCallback\n        });\n        return childWithRef;\n      }\n\n      return null;\n    }\n  }]);\n\n  return FocusTrap;\n}(React.Component); // support server-side rendering where `Element` will not be defined\n\n\nvar ElementType = typeof Element === 'undefined' ? Function : Element;\nFocusTrap.propTypes = {\n  active: PropTypes.bool,\n  paused: PropTypes.bool,\n  focusTrapOptions: PropTypes.shape({\n    document: PropTypes.object,\n    onActivate: PropTypes.func,\n    onPostActivate: PropTypes.func,\n    checkCanFocusTrap: PropTypes.func,\n    onDeactivate: PropTypes.func,\n    onPostDeactivate: PropTypes.func,\n    checkCanReturnFocus: PropTypes.func,\n    initialFocus: PropTypes.oneOfType([PropTypes.instanceOf(ElementType), PropTypes.string, PropTypes.func, PropTypes.bool]),\n    fallbackFocus: PropTypes.oneOfType([PropTypes.instanceOf(ElementType), PropTypes.string, PropTypes.func]),\n    escapeDeactivates: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n    clickOutsideDeactivates: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n    returnFocusOnDeactivate: PropTypes.bool,\n    setReturnFocus: PropTypes.oneOfType([PropTypes.instanceOf(ElementType), PropTypes.string, PropTypes.func]),\n    allowOutsideClick: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n    preventScroll: PropTypes.bool\n  }),\n  containerElements: PropTypes.arrayOf(PropTypes.instanceOf(ElementType)),\n  children: PropTypes.oneOfType([PropTypes.element, // React element\n  PropTypes.instanceOf(ElementType) // DOM element\n  ]) // NOTE: _createFocusTrap is internal, for testing purposes only, so we don't\n  //  specify it here. It's expected to be set to the function returned from\n  //  require('focus-trap'), or one with a compatible interface.\n\n};\nFocusTrap.defaultProps = {\n  active: true,\n  paused: false,\n  focusTrapOptions: {},\n  _createFocusTrap: createFocusTrap\n};\nmodule.exports = FocusTrap;","map":{"version":3,"sources":["/Users/tendainyandoro/Documents/School/interaction-checker/node_modules/focus-trap-react/dist/focus-trap-react.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","value","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","React","require","ReactDOM","PropTypes","_require","createFocusTrap","FocusTrap","_React$Component","_super","_this","tailoredFocusTrapOptions","returnFocusOnDeactivate","focusTrapOptions","optionName","hasOwnProperty","onPostDeactivate","focusTrapElements","containerElements","updatePreviousElement","getDocument","document","undefined","getNodeForOption","optionValue","node","_this$getDocument","querySelector","Error","concat","getReturnFocusNode","previouslyFocusedElement","currentDocument","activeElement","deactivateTrap","_this2","_this$tailoredFocusTr","checkCanReturnFocus","_this$tailoredFocusTr2","preventScroll","focusTrap","deactivate","returnFocus","finishDeactivation","returnFocusNode","canReturnFocus","focus","then","setupFocusTrap","focusTrapElementDOMNodes","map","findDOMNode","nodesExist","some","_createFocusTrap","active","activate","paused","pause","componentDidMount","componentDidUpdate","prevProps","updateContainerElements","hasActivated","hasDeactivated","hasPaused","hasUnpaused","unpause","componentWillUnmount","render","_this3","child","children","Children","only","type","Fragment","composedRefCallback","element","ref","current","childWithRef","cloneElement","Component","ElementType","Element","Function","propTypes","bool","shape","object","onActivate","func","onPostActivate","checkCanFocusTrap","onDeactivate","initialFocus","oneOfType","instanceOf","string","fallbackFocus","escapeDeactivates","clickOutsideDeactivates","setReturnFocus","allowOutsideClick","arrayOf","defaultProps","module","exports"],"mappings":"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","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar React = require('react');\n\nvar ReactDOM = require('react-dom');\n\nvar PropTypes = require('prop-types');\n\nvar _require = require('focus-trap'),\n    createFocusTrap = _require.createFocusTrap; // TODO: These issues are related to older React features which we'll likely need\n//  to fix in order to move the code forward to the next major version of React.\n//  @see https://github.com/davidtheclark/focus-trap-react/issues/77\n\n/* eslint-disable react/no-find-dom-node */\n\n\nvar FocusTrap = /*#__PURE__*/function (_React$Component) {\n  _inherits(FocusTrap, _React$Component);\n\n  var _super = _createSuper(FocusTrap);\n\n  function FocusTrap(props) {\n    var _this;\n\n    _classCallCheck(this, FocusTrap);\n\n    _this = _super.call(this, props); // We need to hijack the returnFocusOnDeactivate option,\n    // because React can move focus into the element before we arrived at\n    // this lifecycle hook (e.g. with autoFocus inputs). So the component\n    // captures the previouslyFocusedElement in componentWillMount,\n    // then (optionally) returns focus to it in componentWillUnmount.\n\n    _this.tailoredFocusTrapOptions = {\n      returnFocusOnDeactivate: false\n    }; // because of the above, we maintain our own flag for this option, and\n    //  default it to `true` because that's focus-trap's default\n\n    _this.returnFocusOnDeactivate = true;\n    var focusTrapOptions = props.focusTrapOptions;\n\n    for (var optionName in focusTrapOptions) {\n      if (!Object.prototype.hasOwnProperty.call(focusTrapOptions, optionName)) {\n        continue;\n      }\n\n      if (optionName === 'returnFocusOnDeactivate') {\n        _this.returnFocusOnDeactivate = !!focusTrapOptions[optionName];\n        continue;\n      }\n\n      if (optionName === 'onPostDeactivate') {\n        _this.onPostDeactivate = focusTrapOptions[optionName];\n        continue;\n      }\n\n      _this.tailoredFocusTrapOptions[optionName] = focusTrapOptions[optionName];\n    } // elements from which to create the focus trap on mount; if a child is used\n    //  instead of the `containerElements` prop, we'll get the child's related\n    //  element when the trap renders and then is declared 'mounted'\n\n\n    _this.focusTrapElements = props.containerElements || []; // now we remember what the currently focused element is, not relying on focus-trap\n\n    _this.updatePreviousElement();\n\n    return _this;\n  }\n  /**\n   * Gets the configured document.\n   * @returns {Document|undefined} Configured document, falling back to the main\n   *  document, if it exists. During SSR, `undefined` is returned since the\n   *  document doesn't exist.\n   */\n\n\n  _createClass(FocusTrap, [{\n    key: \"getDocument\",\n    value: function getDocument() {\n      // SSR: careful to check if `document` exists before accessing it as a variable\n      return this.props.focusTrapOptions.document || (typeof document !== 'undefined' ? document : undefined);\n    } // TODO: Need more test coverage for this function\n\n  }, {\n    key: \"getNodeForOption\",\n    value: function getNodeForOption(optionName) {\n      var optionValue = this.tailoredFocusTrapOptions[optionName];\n\n      if (!optionValue) {\n        return null;\n      }\n\n      var node = optionValue;\n\n      if (typeof optionValue === 'string') {\n        var _this$getDocument;\n\n        node = (_this$getDocument = this.getDocument()) === null || _this$getDocument === void 0 ? void 0 : _this$getDocument.querySelector(optionValue);\n\n        if (!node) {\n          throw new Error(\"`\".concat(optionName, \"` refers to no known node\"));\n        }\n      }\n\n      if (typeof optionValue === 'function') {\n        node = optionValue();\n\n        if (!node) {\n          throw new Error(\"`\".concat(optionName, \"` did not return a node\"));\n        }\n      }\n\n      return node;\n    }\n  }, {\n    key: \"getReturnFocusNode\",\n    value: function getReturnFocusNode() {\n      var node = this.getNodeForOption('setReturnFocus');\n      return node ? node : this.previouslyFocusedElement;\n    }\n    /** Update the previously focused element with the currently focused element. */\n\n  }, {\n    key: \"updatePreviousElement\",\n    value: function updatePreviousElement() {\n      var currentDocument = this.getDocument();\n\n      if (currentDocument) {\n        this.previouslyFocusedElement = currentDocument.activeElement;\n      }\n    }\n  }, {\n    key: \"deactivateTrap\",\n    value: function deactivateTrap() {\n      var _this2 = this;\n\n      var _this$tailoredFocusTr = this.tailoredFocusTrapOptions,\n          checkCanReturnFocus = _this$tailoredFocusTr.checkCanReturnFocus,\n          _this$tailoredFocusTr2 = _this$tailoredFocusTr.preventScroll,\n          preventScroll = _this$tailoredFocusTr2 === void 0 ? false : _this$tailoredFocusTr2;\n\n      if (this.focusTrap) {\n        // NOTE: we never let the trap return the focus since we do that ourselves\n        this.focusTrap.deactivate({\n          returnFocus: false\n        });\n      }\n\n      var finishDeactivation = function finishDeactivation() {\n        var returnFocusNode = _this2.getReturnFocusNode();\n\n        var canReturnFocus = (returnFocusNode === null || returnFocusNode === void 0 ? void 0 : returnFocusNode.focus) && _this2.returnFocusOnDeactivate;\n\n        if (canReturnFocus) {\n          /** Returns focus to the element that had focus when the trap was activated. */\n          returnFocusNode.focus({\n            preventScroll: preventScroll\n          });\n        }\n\n        if (_this2.onPostDeactivate) {\n          _this2.onPostDeactivate.call(null); // don't call it in context of \"this\"\n\n        }\n      };\n\n      if (checkCanReturnFocus) {\n        checkCanReturnFocus(this.getReturnFocusNode()).then(finishDeactivation, finishDeactivation);\n      } else {\n        finishDeactivation();\n      }\n    }\n  }, {\n    key: \"setupFocusTrap\",\n    value: function setupFocusTrap() {\n      if (!this.focusTrap) {\n        var focusTrapElementDOMNodes = this.focusTrapElements.map( // NOTE: `findDOMNode()` does not support CSS selectors; it'll just return\n        //  a new text node with the text wrapped in it instead of treating the\n        //  string as a selector and resolving it to a node in the DOM\n        ReactDOM.findDOMNode);\n        var nodesExist = focusTrapElementDOMNodes.some(Boolean);\n\n        if (nodesExist) {\n          // eslint-disable-next-line react/prop-types -- _createFocusTrap is an internal prop\n          this.focusTrap = this.props._createFocusTrap(focusTrapElementDOMNodes, this.tailoredFocusTrapOptions);\n\n          if (this.props.active) {\n            this.focusTrap.activate();\n          }\n\n          if (this.props.paused) {\n            this.focusTrap.pause();\n          }\n        }\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.active) {\n        this.setupFocusTrap();\n      } // else, wait for later activation in case the `focusTrapOptions` will be updated\n      //  again before the trap is activated (e.g. if waiting to know what the document\n      //  object will be, so the Trap must be rendered, but the consumer is waiting to\n      //  activate until they have obtained the document from a ref)\n      //  @see https://github.com/focus-trap/focus-trap-react/issues/539\n\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.focusTrap) {\n        if (prevProps.containerElements !== this.props.containerElements) {\n          this.focusTrap.updateContainerElements(this.props.containerElements);\n        }\n\n        var hasActivated = !prevProps.active && this.props.active;\n        var hasDeactivated = prevProps.active && !this.props.active;\n        var hasPaused = !prevProps.paused && this.props.paused;\n        var hasUnpaused = prevProps.paused && !this.props.paused;\n\n        if (hasActivated) {\n          this.updatePreviousElement();\n          this.focusTrap.activate();\n        }\n\n        if (hasDeactivated) {\n          this.deactivateTrap();\n          return; // un/pause does nothing on an inactive trap\n        }\n\n        if (hasPaused) {\n          this.focusTrap.pause();\n        }\n\n        if (hasUnpaused) {\n          this.focusTrap.unpause();\n        }\n      } else {\n        // NOTE: if we're in `componentDidUpdate` and we don't have a trap yet,\n        //  it either means it shouldn't be active, or it should be but none of\n        //  of given `containerElements` were present in the DOM the last time\n        //  we tried to create the trap\n        if (prevProps.containerElements !== this.props.containerElements) {\n          this.focusTrapElements = this.props.containerElements;\n        } // don't create the trap unless it should be active in case the consumer\n        //  is still updating `focusTrapOptions`\n        //  @see https://github.com/focus-trap/focus-trap-react/issues/539\n\n\n        if (this.props.active) {\n          this.updatePreviousElement();\n          this.setupFocusTrap();\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.deactivateTrap();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var child = this.props.children ? React.Children.only(this.props.children) : undefined;\n\n      if (child) {\n        if (child.type && child.type === React.Fragment) {\n          throw new Error('A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.');\n        }\n\n        var composedRefCallback = function composedRefCallback(element) {\n          var containerElements = _this3.props.containerElements;\n\n          if (child) {\n            if (typeof child.ref === 'function') {\n              child.ref(element);\n            } else if (child.ref) {\n              child.ref.current = element;\n            }\n          }\n\n          _this3.focusTrapElements = containerElements ? containerElements : [element];\n        };\n\n        var childWithRef = React.cloneElement(child, {\n          ref: composedRefCallback\n        });\n        return childWithRef;\n      }\n\n      return null;\n    }\n  }]);\n\n  return FocusTrap;\n}(React.Component); // support server-side rendering where `Element` will not be defined\n\n\nvar ElementType = typeof Element === 'undefined' ? Function : Element;\nFocusTrap.propTypes = {\n  active: PropTypes.bool,\n  paused: PropTypes.bool,\n  focusTrapOptions: PropTypes.shape({\n    document: PropTypes.object,\n    onActivate: PropTypes.func,\n    onPostActivate: PropTypes.func,\n    checkCanFocusTrap: PropTypes.func,\n    onDeactivate: PropTypes.func,\n    onPostDeactivate: PropTypes.func,\n    checkCanReturnFocus: PropTypes.func,\n    initialFocus: PropTypes.oneOfType([PropTypes.instanceOf(ElementType), PropTypes.string, PropTypes.func, PropTypes.bool]),\n    fallbackFocus: PropTypes.oneOfType([PropTypes.instanceOf(ElementType), PropTypes.string, PropTypes.func]),\n    escapeDeactivates: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n    clickOutsideDeactivates: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n    returnFocusOnDeactivate: PropTypes.bool,\n    setReturnFocus: PropTypes.oneOfType([PropTypes.instanceOf(ElementType), PropTypes.string, PropTypes.func]),\n    allowOutsideClick: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n    preventScroll: PropTypes.bool\n  }),\n  containerElements: PropTypes.arrayOf(PropTypes.instanceOf(ElementType)),\n  children: PropTypes.oneOfType([PropTypes.element, // React element\n  PropTypes.instanceOf(ElementType) // DOM element\n  ]) // NOTE: _createFocusTrap is internal, for testing purposes only, so we don't\n  //  specify it here. It's expected to be set to the function returned from\n  //  require('focus-trap'), or one with a compatible interface.\n\n};\nFocusTrap.defaultProps = {\n  active: true,\n  paused: false,\n  focusTrapOptions: {},\n  _createFocusTrap: createFocusTrap\n};\nmodule.exports = FocusTrap;"]},"metadata":{},"sourceType":"script"}